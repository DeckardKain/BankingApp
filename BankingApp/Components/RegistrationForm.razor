@inject IDataService dataService


<h3>Create New User</h3>

<div class="container">
    <div class="row">
        <div class="col-md-6">
            <EditForm Model="@user" OnValidSubmit="@CreateUser">
                <DataAnnotationsValidator />
                <div class="form-group">
                    <label for="Name">Name:</label>
                    <InputText id="Name" class="form-control" @bind-Value="user.Name" />
                    <ValidationMessage For="@(() => user.Name)" />
                </div>
                <div class="form-group">
                    <label for="Email">Email:</label>
                    <InputText id="Email" class="form-control" @bind-Value="user.Email" />
                    <ValidationMessage For="@(() => user.Email)" />
                </div>
                <div class="form-group">
                    <label for="PhoneNumber">Phone Number:</label>
                    <InputText id="PhoneNumber" class="form-control" @bind-Value="user.PhoneNumber" />
                    <ValidationMessage For="@(() => user.PhoneNumber)" />
                </div>
                <div class="form-group">
                    <label for="Address">Address:</label>
                    <InputText id="Address" class="form-control" @bind-Value="user.Address" />
                    <ValidationMessage For="@(() => user.Address)" />
                </div>
                <div class="form-group">
                    <label for="Username">Username:</label>
                    <InputText id="Username" class="form-control" @bind-Value="user.Username" />
                    <ValidationMessage For="@(() => user.Username)" />
                </div>
                <div class="form-group">
                    <label for="Password">Password:</label>
                    <InputText id="Password" type="password" class="form-control" @bind-Value="user.Password" />
                    <ValidationMessage For="@(() => user.Password)" />
                </div>
                <button type="submit" class="btn btn-primary">Create</button>
            </EditForm>
            <div class="status-box @statusClass">
                @statusMessage
            </div>
        </div>
    </div>
</div>


@code {
    private UserRegisterDTO user = new UserRegisterDTO();

    private string? statusClass { get; set; }
    private string? statusMessage { get; set; }


    private async void CreateUser()
    {
        var result = await dataService.CreateNewCustomer(user);

        if (result)
        {
            statusClass = "success";
            statusMessage = "New Customer Created Successfully!";
            StateHasChanged();
        }
        else
        {
            statusClass = "failure";
            statusMessage = "Error: Customer was not created.";
            StateHasChanged();
        }
    }

    
   

}
